<ion-header [translucent]="true">
  <ion-toolbar>
    <ion-title>Add Movie</ion-title>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="/manage-movie"></ion-back-button>
    </ion-buttons>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <div class="movie-container">
    <h1>Add New Movie</h1>

    <form [formGroup]="movieForm" (ngSubmit)="addMovie()" class="inner-container">

      <!-- Poster Preview & Upload -->
      <div class="movie-header">
        <img [src]="posterPreview || 'assets/placeholder.jpg'" alt="Movie Poster" class="movie-poster" />
        <input type="file" accept="image/*" (change)="onImageSelected($event)" />
      </div>

      <!-- Movie Information Form -->
      <div class="movie-info">

        <ion-item>
          <ion-label position="floating">Judul</ion-label>
          <ion-input formControlName="title"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Genre</ion-label>
          <ion-input formControlName="genre"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Tanggal Rilis</ion-label>
          <ion-datetime formControlName="releaseDate" presentation="date"></ion-datetime>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Rating</ion-label>
          <ion-input type="number" formControlName="averageRating" min="0" max="10" step="0.1"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Director</ion-label>
          <ion-input formControlName="director"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Casting (pisahkan dengan koma)</ion-label>
          <ion-input formControlName="casting"></ion-input>
        </ion-item>

        <ion-item>
          <ion-label position="floating">Synopsis</ion-label>
          <ion-textarea formControlName="synopsis"></ion-textarea>
        </ion-item>

        <ion-button expand="block" type="submit" [disabled]="movieForm.invalid" color="success">
          Simpan
        </ion-button>
        
      </div>

    </form>
  </div>
</ion-content>
